<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Génération Ciné Ado</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* Styles ici... */
    </style>
</head>
<body>

    <h2>Connexion Administrateur</h2>
    <div class="login">
        <div class="error" id="error-message"></div>
        <input type="text" id="admin-username" placeholder="Identifiant" />
        <input type="password" id="admin-password" placeholder="Mot de passe" />
        <button onclick="login()">Se connecter</button>
    </div>

    <div id="admin-section" style="display:none;">
        <h2>Administration des Films</h2>
        <input type="text" id="new-film-title" placeholder="Titre du film" />
        <textarea id="new-film-description" placeholder="Description du film"></textarea>
        <input type="text" id="new-film-date" placeholder="Date" />
        <input type="text" id="new-film-heure" placeholder="Heure" />
        <input type="text" id="new-film-lieu" placeholder="Lieu" />
        <input type="url" id="new-film-trailer" placeholder="URL de la bande-annonce" />
        <input type="url" id="new-film-image" placeholder="URL de l'image" />
        <input type="url" id="new-film-reservation" placeholder="Lien de réservation" />
        <button onclick="addFilm()">Ajouter Film</button>
        <div id="film-list"></div>
    </div>

    <script>
        const ADMIN_USERNAME = "admin"; // Remplace par ton identifiant
        const ADMIN_PASSWORD = "password"; // Remplace par ton mot de passe

        function login() {
            const username = document.getElementById('admin-username').value;
            const password = document.getElementById('admin-password').value;
            const errorMessage = document.getElementById('error-message');

            if (username === ADMIN_USERNAME && password === ADMIN_PASSWORD) {
                document.getElementById('admin-section').style.display = 'block';
                document.querySelector('.login').style.display = 'none';
                afficherFilms();
            } else {
                errorMessage.textContent = "Identifiant ou mot de passe incorrect.";
            }
        }

        function afficherFilms() {
            const filmList = document.getElementById('film-list');
            filmList.innerHTML = '';
            const films = JSON.parse(localStorage.getItem('films')) || [];

            films.forEach((film, index) => {
                filmList.innerHTML += `
                    <div>
                        <h3>${film.titre}</h3>
                        <p>${film.description}</p>
                        <button onclick="deleteFilm(${index})">Supprimer</button>
                    </div>
                `;
            });
        }

        function addFilm() {
            const film = {
                titre: document.getElementById('new-film-title').value,
                description: document.getElementById('new-film-description').value,
                date: document.getElementById('new-film-date').value,
                heure: document.getElementById('new-film-heure').value,
                lieu: document.getElementById('new-film-lieu').value,
                trailer: document.getElementById('new-film-trailer').value,
                image: document.getElementById('new-film-image').value,
                reservation: document.getElementById('new-film-reservation').value
            };

            const films = JSON.parse(localStorage.getItem('films')) || [];
            films.push(film);
            localStorage.setItem('films', JSON.stringify(films));

            // Réinitialiser le formulaire
            document.getElementById('new-film-title').value = '';
            document.getElementById('new-film-description').value = '';
            document.getElementById('new-film-date').value = '';
            document.getElementById('new-film-heure').value = '';
            document.getElementById('new-film-lieu').value = '';
            document.getElementById('new-film-trailer').value = '';
            document.getElementById('new-film-image').value = '';
            document.getElementById('new-film-reservation').value = '';

            afficherFilms();
        }

        function deleteFilm(index) {
            const films = JSON.parse(localStorage.getItem('films')) || [];
            films.splice(index, 1);
            localStorage.setItem('films', JSON.stringify(films));
            afficherFilms();
        }
    </script>

</body>
</html>
